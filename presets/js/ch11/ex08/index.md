正規表現にはバックトラックという動作がある。
https://techracho.bpsinc.jp/hachi8833/2019_04_19/73216  
https://www.python.jp/news/wnpython311/atomicgrp.html  
バックトラックとは、パターンのマッチに失敗したら前の手順に戻し、別のマッチを試していくアルゴリズムのこと。最長のパターンでマッチさせるためにこのような動作になっている。  
バックトラックが多く発生する場合は処理に時間がかかってしまう。

`/^a+$/`という正規表現が`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa!`にマッチするか調べる場合、

- 最初に`a`の1つ以上の繰り返しを取るので、末尾の`!`の手前までマッチする
- 次の正規表現は`$`なので、`a`で文字列が終わっている必要があるが、そうではないので失敗する
- 次に、さきほどより1つ少ない `a`の繰り返しでマッチさせ、末尾がそこで終わっているか調べるがこれも失敗する。
- 上記を繰り返すので多くのバックトラックが生まれる

さらに、例題では`/^(a|aa)+$/)`という正規表現になっており、「a」か「aa」のどちらにマッチさせるか曖昧で、パターンが指数関数的に増加してしまい、処理が終わらなくなってしまう。
