参考URL:[知っておくとちょっと便利！標準入力・標準出力・標準エラー出力について | SIOS Tech. Lab](https://tech-lab.sios.jp/archives/42701)

## 標準入力、標準出力、標準エラー出力

標準入力とは、プログラムが使うデータを受け取るための読み込み元を意味します。
主な標準入力として、キーボードなどがあります。
標準出力とは、プログラムが使うデータの出力先を示します。
それに対して標準エラー出力とは、プログラムが使うデータのうち、エラーの出力先を意味します。
主な標準出力・標準エラー出力として、コンソール、ディスプレイなどがあります。

## パイプ

パイプラインとは、コマンドの出力を別のコマンドの入力として扱う仕組みです。
“|” で表現します。
例えば、text.txt というファイルの内容から grep コマンドで特定の文字列を抽出する場合、下記の様なコマンドを実行します。

```
# cat text.txt | grep aaa
aaa
```

前提として、text.txt の内容は下記の通りです。

```
# cat text.txt
aaa
bbb
ccc
ddd
eee
```

この時、cat text.txt にて出力された内容が “|” (パイプライン) を通じて grep コマンドに渡され、grep コマンドはその標準入力からデータを受け取っています。

## リダイレクト

リダイレクトとは、コマンドの出力先を別の出力先 (ファイルなど) に変更することができる仕組みです。
“>” や “ で表現します。

標準出力のリダイレクト
例えば、ls コマンドでカレントディレクトリのファイル一覧を表示させた場合、結果をコンソールではなくファイルに出力する場合、下記の様なコマンドを実行します。

```
# ls > /tmp/file.txt
#
```

file.txt の内容は下記の通りとなります。

```
# cat /tmp/file.txt
file1
file2
file3
```

## 実験

### node cat.mjs

- 予想
  - 引数なしで cat.mjs を呼び出すので、キーボードで入力した結果がコンソールに出力される
- 結果
  - 予想通り

### echo FOO | node cat.mjs

- 予想
  - echo FOOの結果（=FOOという出力）が cat.mjsにパイプされるので、コンソールには FOO と出力される
- 結果
  - 予想通り

### node cat.mjs > output.txt

- 予想
  - 引数なしで cat.mjs を呼び出すので、キーボードで入力した結果がリダイレクト先のoutput.txtに保存される
- 結果
  - 予想通り

### node cat.mjs file

- 予想
  - 引数 file で cat.mjsを呼び出すので、fileの中身がコンソールに出力される
- 結果
  - 予想通り

### node cat.mjs file > output.txt

- 予想
  - 引数 file で cat.mjsを呼び出すので、リダイレクト先のoutput.txtにfileの中身が出力される
- 結果
  - 予想通り

### node cat.mjs invalid-file > output.txt

- 予想
  - 存在しないファイルを引数にして cat.mjsを呼び出すので、ファイルが存在しないエラーが output.txtに出力される
- 結果
  - 予想と違い、コンソールにエラーが出力された
  - 標準エラー出力のリダイレクトは `>`ではなく、`2>`を使う必要がある

### node cat.mjs invalid-file 2> error.txt

- 予想
  - 存在しないファイルを引数にして cat.mjsを呼び出すので、ファイルが存在しないエラーが error.txtに出力される
- 結果
  - 予想通り
